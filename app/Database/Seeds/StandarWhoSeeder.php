<?php

namespace App\Database\Seeds;

use CodeIgniter\Database\Seeder;

class StandarWhoSeeder extends Seeder
{
    public function run()
    {
        // Simplified WHO Growth Standards for Height-for-Age (TB/U)
        // Used for stunting detection
        // Data: usia_bulan, jenis_kelamin, median, -3SD, -2SD, -1SD, +1SD, +2SD, +3SD (in cm)
        
        $data = [];
        
        // Laki-laki (Boys) - Height-for-Age (TB_U)
        $boysHeight = [
            // [usia_bulan, median, -3SD, -2SD, -1SD, +1SD, +2SD, +3SD]
            [0, 49.9, 44.2, 46.1, 48.0, 51.8, 53.7, 55.6],
            [1, 54.7, 48.9, 50.8, 52.8, 56.7, 58.6, 60.6],
            [2, 58.4, 52.4, 54.4, 56.4, 60.4, 62.4, 64.4],
            [3, 61.4, 55.3, 57.3, 59.4, 63.5, 65.5, 67.6],
            [4, 63.9, 57.6, 59.7, 61.8, 66.0, 68.0, 70.1],
            [5, 65.9, 59.6, 61.7, 63.8, 68.0, 70.1, 72.2],
            [6, 67.6, 61.2, 63.3, 65.5, 69.8, 71.9, 74.0],
            [7, 69.2, 62.7, 64.8, 67.0, 71.3, 73.5, 75.7],
            [8, 70.6, 64.0, 66.2, 68.4, 72.8, 75.0, 77.2],
            [9, 72.0, 65.2, 67.5, 69.7, 74.2, 76.5, 78.7],
            [10, 73.3, 66.4, 68.7, 71.0, 75.6, 77.9, 80.1],
            [11, 74.5, 67.6, 69.9, 72.2, 76.9, 79.2, 81.5],
            [12, 75.7, 68.6, 71.0, 73.4, 78.1, 80.5, 82.9],
            [15, 79.1, 71.6, 74.1, 76.6, 81.7, 84.2, 86.7],
            [18, 82.3, 74.4, 77.0, 79.6, 84.9, 87.5, 90.1],
            [21, 85.1, 77.0, 79.7, 82.3, 87.7, 90.4, 93.0],
            [24, 87.8, 79.3, 82.1, 84.8, 90.3, 93.0, 95.7],
            [30, 92.4, 83.4, 86.4, 89.3, 95.2, 98.1, 101.0],
            [36, 96.1, 87.0, 90.2, 93.4, 99.7, 102.9, 106.0],
            [42, 99.5, 90.4, 93.8, 97.1, 103.8, 107.1, 110.4],
            [48, 102.9, 93.7, 97.2, 100.7, 107.8, 111.3, 114.8],
            [54, 106.2, 96.8, 100.5, 104.2, 111.6, 115.3, 119.0],
            [60, 109.4, 99.9, 103.7, 107.5, 115.2, 119.1, 122.9],
        ];
        
        foreach ($boysHeight as $row) {
            $data[] = [
                'jenis_kelamin' => 'L',
                'usia_bulan'    => $row[0],
                'indikator'     => 'TB_U',
                'median'        => $row[1],
                'sd_min3'       => $row[2],
                'sd_min2'       => $row[3],
                'sd_min1'       => $row[4],
                'sd_plus1'      => $row[5],
                'sd_plus2'      => $row[6],
                'sd_plus3'      => $row[7],
            ];
        }
        
        // Perempuan (Girls) - Height-for-Age (TB_U)
        $girlsHeight = [
            [0, 49.1, 43.6, 45.4, 47.3, 51.0, 52.9, 54.7],
            [1, 53.7, 47.8, 49.8, 51.7, 55.6, 57.6, 59.5],
            [2, 57.1, 51.0, 53.0, 55.0, 59.1, 61.1, 63.2],
            [3, 59.8, 53.5, 55.6, 57.7, 62.0, 64.0, 66.1],
            [4, 62.1, 55.6, 57.8, 59.9, 64.3, 66.4, 68.6],
            [5, 64.0, 57.4, 59.6, 61.8, 66.2, 68.5, 70.7],
            [6, 65.7, 58.9, 61.2, 63.5, 68.0, 70.3, 72.5],
            [7, 67.3, 60.3, 62.7, 65.0, 69.6, 72.0, 74.2],
            [8, 68.7, 61.7, 64.0, 66.4, 71.1, 73.5, 75.8],
            [9, 70.1, 62.9, 65.3, 67.7, 72.6, 75.0, 77.4],
            [10, 71.5, 64.1, 66.5, 69.0, 74.0, 76.4, 78.9],
            [11, 72.8, 65.2, 67.7, 70.3, 75.3, 77.8, 80.3],
            [12, 74.0, 66.3, 68.9, 71.4, 76.6, 79.2, 81.7],
            [15, 77.5, 69.3, 72.0, 74.8, 80.2, 82.9, 85.7],
            [18, 80.7, 72.0, 74.9, 77.8, 83.6, 86.5, 89.4],
            [21, 83.7, 74.5, 77.5, 80.5, 86.6, 89.7, 92.7],
            [24, 86.4, 76.7, 79.9, 83.0, 89.3, 92.5, 95.6],
            [30, 91.0, 80.8, 84.2, 87.6, 94.4, 97.8, 101.2],
            [36, 95.1, 84.6, 88.2, 91.9, 99.1, 102.7, 106.3],
            [42, 98.9, 88.2, 92.0, 95.9, 103.5, 107.3, 111.1],
            [48, 102.7, 91.7, 95.8, 99.8, 107.7, 111.8, 115.8],
            [54, 106.2, 95.1, 99.3, 103.5, 111.8, 116.0, 120.2],
            [60, 109.4, 98.2, 102.6, 107.0, 115.7, 120.1, 124.5],
        ];
        
        foreach ($girlsHeight as $row) {
            $data[] = [
                'jenis_kelamin' => 'P',
                'usia_bulan'    => $row[0],
                'indikator'     => 'TB_U',
                'median'        => $row[1],
                'sd_min3'       => $row[2],
                'sd_min2'       => $row[3],
                'sd_min1'       => $row[4],
                'sd_plus1'      => $row[5],
                'sd_plus2'      => $row[6],
                'sd_plus3'      => $row[7],
            ];
        }
        
        // Laki-laki (Boys) - Weight-for-Age (BB_U)
        $boysWeight = [
            // [usia_bulan, median, -3SD, -2SD, -1SD, +1SD, +2SD, +3SD]
            [0, 3.3, 2.1, 2.5, 2.9, 3.9, 4.4, 5.0],
            [1, 4.5, 2.9, 3.4, 3.9, 5.1, 5.8, 6.6],
            [2, 5.6, 3.8, 4.3, 4.9, 6.3, 7.1, 8.0],
            [3, 6.4, 4.4, 5.0, 5.7, 7.2, 8.0, 9.0],
            [4, 7.0, 4.9, 5.6, 6.2, 7.8, 8.7, 9.7],
            [5, 7.5, 5.3, 6.0, 6.7, 8.4, 9.3, 10.4],
            [6, 7.9, 5.7, 6.4, 7.1, 8.8, 9.8, 10.9],
            [7, 8.3, 5.9, 6.7, 7.4, 9.2, 10.3, 11.4],
            [8, 8.6, 6.2, 6.9, 7.7, 9.6, 10.7, 11.9],
            [9, 8.9, 6.4, 7.1, 8.0, 9.9, 11.0, 12.3],
            [10, 9.2, 6.6, 7.4, 8.2, 10.2, 11.4, 12.7],
            [11, 9.4, 6.8, 7.6, 8.4, 10.5, 11.7, 13.0],
            [12, 9.6, 6.9, 7.7, 8.6, 10.8, 12.0, 13.3],
            [15, 10.3, 7.4, 8.3, 9.2, 11.5, 12.8, 14.3],
            [18, 10.9, 7.8, 8.8, 9.8, 12.2, 13.7, 15.3],
            [21, 11.5, 8.2, 9.2, 10.3, 12.9, 14.5, 16.2],
            [24, 12.2, 8.6, 9.7, 10.8, 13.6, 15.3, 17.1],
            [30, 13.3, 9.4, 10.5, 11.8, 14.8, 16.6, 18.7],
            [36, 14.3, 10.0, 11.3, 12.7, 16.0, 18.0, 20.2],
            [42, 15.3, 10.6, 11.9, 13.5, 17.1, 19.3, 21.8],
            [48, 16.3, 11.2, 12.6, 14.3, 18.2, 20.6, 23.4],
            [54, 17.3, 11.8, 13.3, 15.0, 19.3, 21.8, 24.9],
            [60, 18.3, 12.4, 14.0, 15.8, 20.3, 23.1, 26.4],
        ];
        
        foreach ($boysWeight as $row) {
            $data[] = [
                'jenis_kelamin' => 'L',
                'usia_bulan'    => $row[0],
                'indikator'     => 'BB_U',
                'median'        => $row[1],
                'sd_min3'       => $row[2],
                'sd_min2'       => $row[3],
                'sd_min1'       => $row[4],
                'sd_plus1'      => $row[5],
                'sd_plus2'      => $row[6],
                'sd_plus3'      => $row[7],
            ];
        }
        
        // Perempuan (Girls) - Weight-for-Age (BB_U)
        $girlsWeight = [
            [0, 3.2, 2.0, 2.4, 2.8, 3.7, 4.2, 4.8],
            [1, 4.2, 2.7, 3.2, 3.6, 4.8, 5.5, 6.2],
            [2, 5.1, 3.4, 3.9, 4.5, 5.8, 6.6, 7.5],
            [3, 5.8, 4.0, 4.5, 5.2, 6.6, 7.5, 8.5],
            [4, 6.4, 4.4, 5.0, 5.7, 7.3, 8.2, 9.3],
            [5, 6.9, 4.8, 5.4, 6.1, 7.8, 8.8, 10.0],
            [6, 7.3, 5.1, 5.7, 6.5, 8.2, 9.3, 10.6],
            [7, 7.6, 5.3, 6.0, 6.8, 8.6, 9.8, 11.1],
            [8, 7.9, 5.6, 6.3, 7.0, 9.0, 10.2, 11.6],
            [9, 8.2, 5.8, 6.5, 7.3, 9.3, 10.5, 12.0],
            [10, 8.5, 5.9, 6.7, 7.5, 9.6, 10.9, 12.4],
            [11, 8.7, 6.1, 6.9, 7.7, 9.9, 11.2, 12.8],
            [12, 8.9, 6.3, 7.0, 7.9, 10.1, 11.5, 13.1],
            [15, 9.6, 6.7, 7.6, 8.5, 10.9, 12.4, 14.1],
            [18, 10.2, 7.2, 8.1, 9.1, 11.6, 13.2, 15.1],
            [21, 10.9, 7.6, 8.6, 9.6, 12.3, 14.0, 16.0],
            [24, 11.5, 8.1, 9.0, 10.2, 13.0, 14.8, 17.0],
            [30, 12.7, 8.8, 9.9, 11.1, 14.3, 16.4, 18.8],
            [36, 13.9, 9.5, 10.7, 12.0, 15.6, 17.8, 20.5],
            [42, 15.0, 10.1, 11.4, 12.9, 16.7, 19.2, 22.1],
            [48, 16.1, 10.7, 12.1, 13.7, 17.9, 20.6, 23.8],
            [54, 17.2, 11.3, 12.8, 14.5, 19.0, 22.0, 25.4],
            [60, 18.2, 11.9, 13.5, 15.3, 20.1, 23.3, 27.1],
        ];
        
        foreach ($girlsWeight as $row) {
            $data[] = [
                'jenis_kelamin' => 'P',
                'usia_bulan'    => $row[0],
                'indikator'     => 'BB_U',
                'median'        => $row[1],
                'sd_min3'       => $row[2],
                'sd_min2'       => $row[3],
                'sd_min1'       => $row[4],
                'sd_plus1'      => $row[5],
                'sd_plus2'      => $row[6],
                'sd_plus3'      => $row[7],
            ];
        }
        
        // Insert all data
        $this->db->table('kes_standar_who')->insertBatch($data);
    }
}
